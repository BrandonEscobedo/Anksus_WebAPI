@page "/ListaUsuarios"
@layout ComponentsBase.ComponentBaseLogin
@inject IStateConteiner _StateContainer
<div class="activePlayers">
    <h1>Jugadores activos</h1>
    <div class="activePlayers__grid">
        @if (participantesActivos != null)
        {
            @foreach (var participante in participantesActivos)
            {
                <h3 class="jugador">
                    @participante.Nombre
                </h3>
            }
        }
        else
        {
            <h3>Esperando Jugadores..</h3>
        }
    </div>
</div>
@code {
    private IReadOnlyList<ParticipanteEnCuestDTO>? participantesActivos { get; set; }

    protected override void OnInitialized()
    {
        participantesActivos = _StateContainer.participanteEnCuest;
        _StateContainer.OnAgregarUsuario += HandleruserJoin;
       
    }

    private void HandleruserJoin(ParticipanteEnCuestDTO participante)
    {
        StateHasChanged();
    }
  
}
